(window.webpackJsonp=window.webpackJsonp||[]).push([[34],{1097:function(e,r,t){"use strict";t.r(r);var n=t(1),o=(t(21),t(93),t(31),t(0)),c=t(773),l=o.default.extend({props:{errorMessage:{type:String,default:"The format of the file is incorrect."}},data:function(){return{file:null,valid:!1,uploadSingleFileRules:c.e}},computed:{exampleFormat:function(){return JSON.stringify([{text:"Dog",suffix_key:"23",background_color:"#FF0000",text_color:"#ffffff"},{text:"Cat",suffix_key:"12",background_color:"#FF0000",text_color:"#ffffff"}],null,4)}}}),f=t(86),d=t(90),m=t.n(d),v=t(326),h=t(683),_=t(677),x=t(1080),y=t(736),k=t(122),component=Object(f.a)(l,(function(){var e=this,r=e._self._c;e._self._setupProxy;return r("v-card",[r("v-card-title",{domProps:{textContent:e._s(e.$t("labels.importLabels"))}}),e._v(" "),r("v-card-text",[r("v-form",{ref:"form",model:{value:e.valid,callback:function(r){e.valid=r},expression:"valid"}},[r("h3",[e._v(e._s(e.$t("labels.importMessage1")))]),e._v(" "),e.exampleFormat?r("v-sheet",{staticClass:"mb-5 pa-5",attrs:{dark:!e.$vuetify.theme.dark,light:e.$vuetify.theme.dark}},[r("pre",[e._v(e._s(e.exampleFormat))])]):e._e(),e._v(" "),r("v-file-input",{attrs:{accept:".json","error-messages":e.errorMessage,label:e.$t("labels.filePlaceholder"),rules:e.uploadSingleFileRules(e.$t("rules.uploadFileRules")),outlined:"","prepend-icon":""},on:{change:function(r){return e.$emit("clear")},"click:clear":function(r){return e.$emit("clear")}},model:{value:e.file,callback:function(r){e.file=r},expression:"file"}}),e._v(" "),r("v-btn",{staticClass:"text-capitalize",attrs:{disabled:!e.valid,color:"primary"},on:{click:function(r){return e.$emit("upload",e.file)}}},[e._v("\n        Import\n      ")])],1)],1)],1)}),[],!1,null,null,null),$=component.exports;m()(component,{VBtn:v.a,VCard:h.a,VCardText:_.b,VCardTitle:_.c,VFileInput:x.a,VForm:y.a,VSheet:k.a});var F=o.default.extend({components:{FormImport:$},layout:"project",middleware:["check-auth","auth","setCurrentProject","isProjectAdmin"],validate:function(e){var r=e.params,t=e.query,n=e.store;return!!["category","span","relation"].includes(t.type)&&(!!/^\d+$/.test(r.id)&&n.getters["projects/project"].canDefineLabel)},data:function(){return{errorMessage:""}},computed:{projectId:function(){return this.$route.params.id},service:function(){var e=this.$route.query.type;return"category"===e?this.$services.categoryType:"span"===e?this.$services.spanType:this.$services.relationType}},methods:{upload:function(e){var r=this;return Object(n.a)(regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,r.service.upload(r.projectId,e);case 3:r.$router.push("/projects/".concat(r.projectId,"/labels")),t.next=9;break;case 6:t.prev=6,t.t0=t.catch(0),r.errorMessage=t.t0.message;case 9:case"end":return t.stop()}}),t,null,[[0,6]])})))()},clearErrorMessage:function(){this.errorMessage=""}}}),j=Object(f.a)(F,(function(){var e=this,r=e._self._c;e._self._setupProxy;return r("form-import",{attrs:{"error-message":e.errorMessage},on:{clear:e.clearErrorMessage,upload:e.upload}})}),[],!1,null,null,null);r.default=j.exports},773:function(e,r,t){"use strict";t.d(r,"b",(function(){return n})),t.d(r,"f",(function(){return o})),t.d(r,"a",(function(){return c})),t.d(r,"e",(function(){return l})),t.d(r,"c",(function(){return f})),t.d(r,"d",(function(){return d}));t(7);var n=function(e){return[function(r){return!!r||e.labelRequired},function(r){return r&&r.length<=30||e.labelLessThan30Chars}]},o=function(e){return[function(r){return!!r||e.userNameRequired},function(r){return r&&r.length<=30||e.userNameLessThan30Chars}]},c=function(e){return[function(r){return!!r||e.fileFormatRequired}]},l=function(e){return[function(r){return!!r||e.fileRequired},function(r){return!r||r.size<1e6||e.fileLessThan1MB}]},f=function(e){return[function(r){return!!r||e.passwordRequired},function(r){return r&&r.length<=30||e.passwordLessThan30Chars}]},d=function(){return[function(e){return!!e||"Name is required"}]}}}]);